<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">

<html>

<head>

<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">

<title>HOWTO-Booting with Yaboot on PowerPC - Yaboot as a Temporary Bootloader</title>

</head>

<body>

<a name="ch10"></a>
<hr>

[ <a href="ch9.en.html">previous</a> ]
[ <a href="index.en.html#contents">Contents</a> ]
[ <a href="ch1.en.html">1</a> ]
[ <a href="ch2.en.html">2</a> ]
[ <a href="ch3.en.html">3</a> ]
[ <a href="ch4.en.html">4</a> ]
[ <a href="ch5.en.html">5</a> ]
[ <a href="ch6.en.html">6</a> ]
[ <a href="ch7.en.html">7</a> ]
[ <a href="ch8.en.html">8</a> ]
[ <a href="ch9.en.html">9</a> ]
[ 10 ]
[ <a href="ch11.en.html">11</a> ]
[ <a href="ch11.en.html">next</a> ]

<hr>

<h1>
HOWTO-Booting with Yaboot on PowerPC
<br>Chapter 10 - Yaboot as a Temporary Bootloader
</h1>


<hr>


<p>
It's very convenient for certain tasks like installing a new system the first
time without a CD, or rescuing an existing system, to boot a ramdisk system
such as an installer directly from files placed on an existing partition.

<p>
An example is the Debian installer.  It is contained in a floppy-image root.bin
file which <code>yaboot</code> can boot directly.  A simple
<code>yaboot.conf</code> to initialize the ramdisk, yaboot, root.bin, and a
kernel image (named linux in this example) are all that is needed.  All files
are placed at the root level on an existing partition.

<p>
The <code>yaboot.conf</code> file for this purpose contains just four lines:

<pre>
         image=linux
         label=install
         initrd=root.bin
         initrd-size=8192
</pre>

<p>
If you create <code>yaboot.conf</code> in the MacOS, you must convert it to use
Unix newlines (linefeeds only).  If you use MacOS newlines (just carriage
returns), <code>yaboot</code> will be unable to read the file.

<p>
You must pick a partition that is formatted with either HFS or HFS+.  If you
have Mac OS X installed on a UFS partition (You can use the OS X &quot;Disk
Utility&quot; app to check this), you will have to find another partition to
use.  If Mac OS X is installed on UFS, you probably have one or two partitions
of the &quot;Apple_Boot&quot; type.  They have HFS filesystems on them.  Pick
one, mount it under MacOS X, and store the files there.

<p>
Boot into OpenFirmware, and type at the prompt:

<pre>
         0 &gt; boot hd:xx,yaboot
</pre>

<p>
replacing xx with the partition number of the partition where the kernel and
<code>yaboot</code> files were placed, followed by a return.  At the boot:
prompt, type <em>install</em> followed by a return.

<hr>

[ <a href="ch9.en.html">previous</a> ]
[ <a href="index.en.html#contents">Contents</a> ]
[ <a href="ch1.en.html">1</a> ]
[ <a href="ch2.en.html">2</a> ]
[ <a href="ch3.en.html">3</a> ]
[ <a href="ch4.en.html">4</a> ]
[ <a href="ch5.en.html">5</a> ]
[ <a href="ch6.en.html">6</a> ]
[ <a href="ch7.en.html">7</a> ]
[ <a href="ch8.en.html">8</a> ]
[ <a href="ch9.en.html">9</a> ]
[ 10 ]
[ <a href="ch11.en.html">11</a> ]
[ <a href="ch11.en.html">next</a> ]

<hr>

<p>
HOWTO-Booting with Yaboot on PowerPC

<address>
Version 1.04, Feb 22 2004<br>
Chris Tillman
</address>

<hr>

</body>

</html>

